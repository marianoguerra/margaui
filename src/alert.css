/* Component: alert */

/* Base alert */
@utility alert {
  display: grid;
  align-items: center;
  gap: 1rem;
  border-radius: var(--radius-box);
  padding-inline: 1rem;
  padding-block: 0.75rem;
  border-width: var(--border);
  border-style: solid;
  border-color: var(--alert-border-color, var(--color-base-200));
  color: var(--color-base-content);
  background-color: var(--alert-color, var(--color-base-200));
  justify-content: start;
  justify-items: start;
  grid-auto-flow: column;
  grid-template-columns: auto;
  text-align: start;
  font-size: 0.875rem;
  line-height: 1.25rem;
  background-size: auto, calc(var(--noise) * 100%);
  background-image: none, var(--fx-noise);
  box-shadow: 0 3px 0 -2px oklch(100% 0 0 / calc(var(--depth) * 0.08)) inset,
    0 1px #000,
    0 4px 3px -2px oklch(0% 0 0 / calc(var(--depth) * 0.08));

  @supports (color: color-mix(in lab, red, red)) {
    box-shadow: 0 3px 0 -2px oklch(100% 0 0 / calc(var(--depth) * 0.08)) inset,
      0 1px color-mix(in oklab, color-mix(in oklab, #000 20%, var(--alert-color, var(--color-base-200))) calc(var(--depth) * 20%), #0000),
      0 4px 3px -2px oklch(0% 0 0 / calc(var(--depth) * 0.08));
  }

  &:has(:nth-child(2)) {
    grid-template-columns: auto minmax(auto, 1fr);
  }
}

/* Vertical layout */
@utility alert-vertical {
  justify-content: center;
  justify-items: center;
  grid-auto-flow: row;
  grid-template-columns: auto;
  text-align: center;

  &:has(:nth-child(2)) {
    grid-template-columns: auto;
  }
}

/* Horizontal layout (default, explicit) */
@utility alert-horizontal {
  justify-content: start;
  justify-items: start;
  grid-auto-flow: column;
  grid-template-columns: auto;
  text-align: start;

  &:has(:nth-child(2)) {
    grid-template-columns: auto minmax(auto, 1fr);
  }
}

/* Color variants */
@utility alert-info {
  color: var(--color-info-content);
  --alert-border-color: var(--color-info);
  --alert-color: var(--color-info);
}

@utility alert-success {
  color: var(--color-success-content);
  --alert-border-color: var(--color-success);
  --alert-color: var(--color-success);
}

@utility alert-warning {
  color: var(--color-warning-content);
  --alert-border-color: var(--color-warning);
  --alert-color: var(--color-warning);
}

@utility alert-error {
  color: var(--color-error-content);
  --alert-border-color: var(--color-error);
  --alert-color: var(--color-error);
}

/* Style variants - use !important to override color variants' text color */
@utility alert-dash {
  background-color: transparent !important;
  color: var(--alert-color, var(--color-base-content)) !important;
  border-style: dashed;
  box-shadow: none;
  background-image: none;
}

@utility alert-outline {
  background-color: transparent !important;
  color: var(--alert-color, var(--color-base-content)) !important;
  box-shadow: none;
  background-image: none;
}

@utility alert-soft {
  color: var(--alert-color, var(--color-base-content)) !important;
  background: var(--alert-color, var(--color-base-content));
  box-shadow: none;
  background-image: none;

  @supports (color: color-mix(in lab, red, red)) {
    background: color-mix(in oklab, var(--alert-color, var(--color-base-content)) 8%, var(--color-base-100));
  }
}

/* Alert-soft border color - outside @utility to ensure it overrides color variants */
.alert-soft {
  --alert-border-color: var(--color-base-100);

  @supports (color: color-mix(in lab, red, red)) {
    --alert-border-color: color-mix(in oklab, var(--alert-color, var(--color-base-content)) 10%, var(--color-base-100));
  }
}
