/* Component: table */

/* Base table */
@utility table {
  font-size: 0.875rem;
  position: relative;
  width: 100%;
  border-collapse: separate;
  border-spacing: 0 0;
  border-radius: var(--radius-box);
  text-align: left;

  &:where(:dir(rtl), [dir="rtl"], [dir="rtl"] *) {
    text-align: right;
  }

  tr.row-hover {
    &,
    &:nth-child(even) {
      &:hover {
        @media (hover: hover) {
          background-color: var(--color-base-200);
        }
      }
    }
  }

  :where(th, td) {
    padding-inline: 1rem;
    padding-block: 0.75rem;
    vertical-align: middle;
  }

  :where(thead, tfoot) {
    white-space: nowrap;
    color: var(--color-base-content);
    font-size: 0.875rem;
    font-weight: 600;

    @supports (color: color-mix(in lab, red, red)) {
      color: color-mix(in oklab, var(--color-base-content) 60%, transparent);
    }
  }

  :where(tfoot tr:first-child :is(td, th)) {
    border-top: var(--border) solid var(--color-base-content);

    @supports (color: color-mix(in lab, red, red)) {
      border-top: var(--border) solid color-mix(in oklch, var(--color-base-content) 5%, #0000);
    }
  }

  :where(.table-pin-rows thead tr) {
    position: sticky;
    top: 0;
    z-index: 1;
    background-color: var(--color-base-100);
  }

  :where(.table-pin-rows tfoot tr) {
    position: sticky;
    bottom: 0;
    z-index: 1;
    background-color: var(--color-base-100);
  }

  :where(.table-pin-cols tr th) {
    position: sticky;
    right: 0;
    left: 0;
    background-color: var(--color-base-100);
  }

  :where(thead tr :is(td, th), tbody tr:not(:last-child) :is(td, th)) {
    border-bottom: var(--border) solid var(--color-base-content);

    @supports (color: color-mix(in lab, red, red)) {
      border-bottom: var(--border) solid color-mix(in oklch, var(--color-base-content) 5%, #0000);
    }
  }
}

/* Pin rows - sticky header/footer */
@utility table-pin-rows {
  --table-pin-rows: 1;
}

/* Pin cols - sticky first/last column */
@utility table-pin-cols {
  --table-pin-cols: 1;
}

/* Zebra striping */
@utility table-zebra {
  tbody {
    tr {
      &:where(:nth-child(even)) {
        background-color: var(--color-base-200);

        :where(.table-pin-cols tr th) {
          background-color: var(--color-base-200);
        }
      }

      &.row-hover {
        &,
        &:where(:nth-child(even)) {
          &:hover {
            @media (hover: hover) {
              background-color: var(--color-base-300);
            }
          }
        }
      }
    }
  }
}

/* Size variants */
@utility table-xs {
  :not(thead, tfoot) tr {
    font-size: 0.6875rem;
  }

  :where(th, td) {
    padding-inline: 0.5rem;
    padding-block: 0.25rem;
  }
}

@utility table-sm {
  :not(thead, tfoot) tr {
    font-size: 0.75rem;
  }

  :where(th, td) {
    padding-inline: 0.75rem;
    padding-block: 0.5rem;
  }
}

@utility table-md {
  :not(thead, tfoot) tr {
    font-size: 0.875rem;
  }

  :where(th, td) {
    padding-inline: 1rem;
    padding-block: 0.75rem;
  }
}

@utility table-lg {
  :not(thead, tfoot) tr {
    font-size: 1.125rem;
  }

  :where(th, td) {
    padding-inline: 1.25rem;
    padding-block: 1rem;
  }
}

@utility table-xl {
  :not(thead, tfoot) tr {
    font-size: 1.375rem;
  }

  :where(th, td) {
    padding-inline: 1.5rem;
    padding-block: 1.25rem;
  }
}
